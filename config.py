# config.py
"""
IMD Medical System - 한방병원 AI 상담 챗봇
화이트 모드 / 친절한 한의사 톤
"""

# ============================================
# 1. UI 설정
# ============================================
APP_TITLE = "아이엠디 메디컬 시스템 AI 상담"
APP_ICON = "🏥"
LAYOUT = "centered"

# 색상 테마 (화이트 모드)
COLOR_PRIMARY = "#2563EB"      # 블루 (신뢰감)
COLOR_SECONDARY = "#1E40AF"    # 다크 블루
COLOR_BG = "#FFFFFF"           # 순백
COLOR_TEXT = "#1F2937"         # 다크 그레이
COLOR_AI_BUBBLE = "#F3F4F6"    # 연한 회색
COLOR_USER_BUBBLE = "#DBEAFE"  # 연한 블루
COLOR_BORDER = "#E5E7EB"       # 경계선

# ============================================
# 2. 병원 정보
# ============================================
HOSPITAL_NAME = "아이엠디 메디컬 시스템"
HOSPITAL_SPECIALTIES = [
    "추나요법 (척추/골반 교정)",
    "다이어트 한약",
    "통증 치료 (침/뜸)",
    "교통사고 후유증",
    "만성 피로",
    "소화기 질환"
]

HOSPITAL_HOURS = {
    "평일": "09:00 - 18:00",
    "토요일": "09:00 - 14:00",
    "일요일/공휴일": "휴진"
}

LOCATION = "서울 강남구"  # 실제 주소로 변경

# ============================================
# 3. 대화 설정
# ============================================
QUICK_REPLIES = {
    "initial": [
        "진료 과목 안내",
        "비용 문의",
        "예약 하기",
        "전화 상담"
    ],
    "symptom": [
        "허리/목 통증",
        "다이어트 상담",
        "교통사고 후유증",
        "전화 상담"
    ],
    "final": [
        "예약 신청",
        "카톡 상담",
        "전화 문의",
        "진료 시간"
    ]
}

# ============================================
# 4. Gemini API 설정
# ============================================
GEMINI_MODEL = "gemini-2.0-flash"
GEMINI_TEMPERATURE = 0.7
GEMINI_MAX_TOKENS = 800

# ============================================
# 5. System Prompt (친절한 한의사)
# ============================================
SYSTEM_PROMPT = """
당신은 아이엠디 메디컬 시스템의 친절한 AI 한의사입니다.

## 병원 정보
- 진료: 추나요법, 다이어트 한약, 침구치료, 교통사고
- 시간: 평일 09:00-18:00, 토 09:00-14:00
- 위치: 서울 강남구

## 대화 방식 (중요: 4회 질의응답 필수)
1차: "어떤 증상으로 불편하신가요?"
2차: 증상 파악 질문 (언제부터? 어느 부위? 기간?)
3차: 기존 치료 경험 또는 추가 증상 확인
4차: 치료법 안내 + 비용 + 예약 유도

## 응답 규칙
- 반드시 3-4문장
- 질문 1개 포함 (4회차 전까지)
- 공감 표현 ("많이 불편하셨겠어요")
- "환자분" 호칭

## 비용
초진 5-8만원, 추나 3-5만원, 한약 30-50만원

## 현재 상황
- 증상: {symptom}
- 대화: {trust_level}/100

**30점 미만: 질문만. 40점 이상: 치료법+예약 유도**
"""

# ============================================
# 6. 치료 정보
# ============================================
TREATMENT_INFO = {
    "추나요법": {
        "설명": "틀어진 척추와 골반을 교정하여 통증을 완화하고 자세를 바로잡습니다",
        "적응증": "허리통증, 목통증, 골반틀어짐, 자세불균형",
        "비용": "회당 3-5만원",
        "횟수": "보통 5-10회 권장"
    },
    "다이어트한약": {
        "설명": "체질에 맞는 한약으로 신진대사를 높이고 체지방을 감소시킵니다",
        "적응증": "비만, 복부비만, 산후비만",
        "비용": "1개월 30-50만원",
        "기간": "3-6개월 권장"
    },
    "침구치료": {
        "설명": "경혈점에 침을 놓아 기혈순환을 돕고 통증을 완화합니다",
        "적응증": "모든 통증, 소화불량, 불면증",
        "비용": "초진 5-8만원",
        "횟수": "주 2-3회"
    }
}

# ============================================
# 7. 예약 폼 필드
# ============================================
LEAD_FORM_FIELDS = {
    "name": "성함",
    "contact": "연락처",
    "symptom": "주요 증상",
    "preferred_date": "희망 날짜"
}

PREFERRED_DATE_OPTIONS = [
    "빠른 시일 내",
    "평일 오전",
    "평일 오후",
    "토요일",
    "상담 후 결정"
]

# ============================================
# 8. Google Sheets 설정
# ============================================
SHEET_COLUMNS = [
    "timestamp",
    "name",
    "contact",
    "symptom",
    "preferred_date",
    "chat_summary",
    "source"
]

# ============================================
# 9. 전환 조건
# ============================================
CONVERSION_THRESHOLD = 4  # 4회 대화 후 예약 폼
